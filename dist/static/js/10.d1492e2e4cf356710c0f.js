webpackJsonp([10],{1027:function(e,t,a){var o=a(675);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a(196)("32ba59a2",o,!0)},523:function(e,t,a){a(1027);var o=a(197)(a(584),a(997),"data-v-222435bb",null);e.exports=o.exports},541:function(e,t,a){e.exports={default:a(542),__esModule:!0}},542:function(e,t,a){var o=a(64),l=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}},584:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(541),l=a.n(o),i="http://localhost:4000/";i="/",t.default={data:function(){return{dialogFormVisible:!1,form:{chip_type:"1",chip_vendor:"",comment:""},rules:{chip_type:[{required:!0,message:"请输入投注类型",trigger:"blur"},{validator:this.validateSpace,trigger:"blur"}],chip_vendor:[{required:!0,message:"请输入投注金额",trigger:"blur"},{validator:this.validateSpace,trigger:"blur"}]},tableData:[],cur_page:1,multipleSelection:[],select_cate:"",select_word:"",del_list:[],is_search:!1,loading:!1}},created:function(){this.getData()},computed:{data:function(){var e=this;return e.tableData.filter(function(t){console.log("date="+t.toString());for(var a=!1,o=0;o<e.del_list.length;o++)if(t._id===e.del_list[o]._id){a=!0;break}if(!a&&t.date.indexOf(e.select_cate)>-1&&(t._id.indexOf(e.select_word)>-1||t.date.indexOf(e.select_word)>-1))return t})}},methods:{handleCurrentChange:function(e){this.cur_page=e,this.getData()},getData:function(){var e=this,t=localStorage.getItem("uid"),a=i+"customers/?type=0&uid="+t;e.$axios.get(a).then(function(t){console.log(t.data.list),console.log(t.status),console.log(t.statusText),console.log(t.headers),console.log(t.config),e.tableData=t.data.list})},search:function(){this.is_search=!0},formatter:function(e,t){return e.date},filterTag:function(e,t){return t.tag===e},handleEdit:function(e,t){var a=this,o=this,r=o.tableData[e];console.log(r.frozen);var s=localStorage.getItem("uid"),n=void 0;n="1"==r.frozen?{frozen:"0"}:{frozen:"1"};var c=i+"customers/?type=7&uid="+s+"&dbid="+r._id+"&obj="+l()(n);console.log("url="+c),o.$axios.get(c).then(function(e){console.log("GET-"+e.data.code),console.log("GET-"+e.data.msg),200==e.data.code?(a.$message.success(e.data.msg),location.reload()):a.$message.success(e.data.msg)})},handleEdit2:function(e,t){var a=this,o=this,l=o.tableData[e];console.log(l.mail),console.log(l.username);var r=localStorage.getItem("uid"),s=i+"customers/?type=8&uid="+r+"&dbid="+l._id+"&mail="+l.mail+"&name="+l.username;console.log("url="+s),o.$axios.get(s).then(function(e){console.log("GET-"+e.data.code),console.log("GET-"+e.data.msg),e.data.code,a.$message.success(e.data.msg)})},handleDelete:function(e,t){this.$message.error("删除第"+(e+1)+"行")},delAll:function(){this.$message("未实现"),self.$message.error("删除了"+str),self.multipleSelection=[]},saveAdd:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;console.log("验证成功"),t.loading=!0;var a=localStorage.getItem("uid"),o=localStorage.getItem("gameid");t.loading=!0;var l=i+"games/?type=1&uid="+a+"&gameid="+o+"&vtype="+t.form.chip_type+"&vval="+t.form.chip_vendor+"&vcom="+t.form.comment;t.$axios.get(l).then(function(e){t.loading=!1,console.log("GET-"+e.data.code),console.log("GET-"+e.data.msg),200==e.data.code?(t.$message("投注成功"),t.form.chip_type="1",t.form.chip_vendor="",t.form.comment="",t.dialogFormVisible=!1):(t.loading=!1,t.dialogFormVisible=!1,t.$message(e.data.msg))})})},handleSelectionChange:function(e){this.multipleSelection=e}}}},675:function(e,t,a){t=e.exports=a(87)(void 0),t.push([e.i,".handle-box[data-v-222435bb]{margin-bottom:20px}.handle-select[data-v-222435bb]{width:120px}.handle-input[data-v-222435bb]{width:300px;display:inline-block}",""])},997:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table"},[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-menu"}),e._v(" 用户")]),e._v(" "),a("el-breadcrumb-item",[e._v("用户列表")])],1)],1),e._v(" "),a("div",{staticClass:"handle-box"}),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.data,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{prop:"uid",label:"用户id",width:"240"}}),e._v(" "),a("el-table-column",{attrs:{prop:"username",label:"用户名称",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"账户余额",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"mail",label:"邮箱地址",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"frozen",label:"冻结状态",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{prop:"date",label:"注册日期",formatter:e.formatter}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("冻结/解冻")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleEdit2(t.$index,t.row)}}},[e._v("重置密码")])]}}])})],1),e._v(" "),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"digcont",attrs:{title:"投注",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"投注类型",prop:"chip_type","label-width":e.formLabelWidth}},[a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"投注类型"},model:{value:e.form.chip_type,callback:function(t){e.$set(e.form,"chip_type",t)},expression:"form.chip_type"}},[a("el-option",{key:"1",attrs:{label:"胜",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"平",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"负",value:"3"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"投注金额",prop:"chip_vendor","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"diainp",attrs:{"auto-complete":"off"},model:{value:e.form.chip_vendor,callback:function(t){e.$set(e.form,"chip_vendor",t)},expression:"form.chip_vendor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"comment","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"diainp",attrs:{"auto-complete":"off"},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.saveAdd("form")}}},[e._v("添 加")])],1)],1)],1)},staticRenderFns:[]}}});